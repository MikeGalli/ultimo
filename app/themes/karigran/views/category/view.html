<div ng-init="init()" class="category">
    
    <img
    class="category-image"
    alt="{{category.name}}"
    ng-if="category.image"
    ng-src="{{category.image_url}}"
    err-src="{{getImg('category_shop.jpg')}}">

    <div class="menu hidden-xs" ng-controller="commonHeaderController">
        <div ng-repeat="item in categories;" class="text-center">
            <a href="" ng-repeat="item in item.child;" ng-include="getTemplate('common/navigation/categories-items.html')"></a>
        </div>
    </div>

    <div class="visible-xs mobile-categories" ng-controller="commonHeaderController">
        <div ng-repeat="item in categories;" class="btn-group-vertical visible-xs-block" role="group" aria-label="..."  >
            <a href="" class="btn btn-lg btn-danger" ng-repeat="item in item.child;" ng-include="getTemplate('common/navigation/categories-items.html')"></a>
        </div>
    </div>

    <div class="row products-area">
        <h3 class="col-xs-12 col-sm-3 col-lg-3">{{category.name}}</h3>
        
        <div class="col-xs-12 col-sm-9 col-lg-9">
            <div class="row">
                <!-- products: clears handled in `.category .products-area .product:nth-child` -->
                <a
                class="col-xs-12 col-sm-4 col-lg-3 product"
                ng-href="{{productService.getUrl(_item._id)}}"
                ng-repeat="_item in productsList | filter:searchText"
                ng-show="productsList.length">

                    <!-- image -->
                    <img ng-src="{{getImage(_item)}}" alt="" err-src="placeholder.png">

                    <span class="caption text-center">
                        <!-- product name -->
                        <h5 class="ng-binding">{{_item.name}}</h5>
                        <!-- product price -->
                        <h4 class="ng-binding">{{_item.price | number : 2 | currency}}</h4>
                    </span>
                </a>
            </div>
        </div>

        
        <div class="clearfix"></div>

        <div class="text-center">
            <gui-paginator object="this" ng-if="pages > 1"></gui-paginator>
        </div>
    </div>

    <div class="clearfix"></div>
</div>
